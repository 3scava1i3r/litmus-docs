<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Day2 operations in OpenEBS · </title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Day2 operations in OpenEBS · "/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.openebs.io/index.html"/><meta property="og:description" content="------"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="/css/code-blocks-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-blocks-buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img id="logo" src="/img/OpenEBS-logo.svg" alt=""/><img class="logo-text" src="/img/openebs-docs-logo.svg" alt=""/><h2 class="headerTitle"></h2></a><div class="dropdown"><span class="ver-link">0.8.1</span><span class="ver-link-span"><i class="arrow down"></i></span><div class="dropdown-menu" id="versions-list" aria-labelledby="dropdownMenuButton"><a class="dropdown-item" id="0" href="https://docs.openebs.io">0.8.1</a><a class="dropdown-item" id="1" href="https://v08-docs.openebs.io">0.8.0</a><a class="dropdown-item" id="2" href="https://v07-docs.openebs.io">0.7.0</a><a class="dropdown-item" id="3" href="https://v06-docs.openebs.io">0.6.0</a><a class="dropdown-item" id="4" href="https://v05-docs.openebs.io">0.5.0</a></div></div><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><a href="https://app.mayaonline.io" target="_blank" rel="noreferrer noopener"><div class="float rotate"><img src="../../../../../../docs/assets/mo-logo.png" alt="MayaOnline" height="45px" width="45px" title="Connect to MayaOnline"/></div></a><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>User Guides</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3 id="Introduction" class="languages-menu">Introduction</h3><div class="hide" id="Introduction dropdown-content-div"><ul id="languages-dropdown-items"><li class="navListItem"><a class="navItem" href="/docs/next/overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/next/features.html">Features and Benefits</a></li><li class="navListItem"><a class="navItem" href="/docs/next/usecases.html">Use cases</a></li><li class="navListItem"><a class="navItem" href="/docs/next/releases.html">Releases</a></li><li class="navListItem"><a class="navItem" href="/docs/next/support.html">Support</a></li><li class="navListItem"><a class="navItem" href="/docs/next/mayaonline.html">MayaOnline</a></li></ul></div></div><div class="navGroup navGroupActive"><h3 id="Concepts" class="languages-menu">Concepts</h3><div class="hide" id="Concepts dropdown-content-div"><ul id="languages-dropdown-items"><li class="navListItem"><a class="navItem" href="/docs/next/cas.html">Container Attached Storage</a></li><li class="navListItem"><a class="navItem" href="/docs/next/architecture.html">OpenEBS Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/next/casengines.html">CAS Engines (cStor &amp; Jiva)</a></li><li class="navListItem"><a class="navItem" href="/docs/next/cstor.html">cStor</a></li><li class="navListItem"><a class="navItem" href="/docs/next/jiva.html">Jiva</a></li></ul></div></div><div class="navGroup navGroupActive"><h3 id="User Guides" class="languages-menu">User Guides</h3><div class="hide" id="User Guides dropdown-content-div"><ul id="languages-dropdown-items"><li class="navListItem"><a class="navItem" href="/docs/next/quickstart.html">Quickstart</a></li><li class="navListItem"><a class="navItem" href="/docs/next/prerequisites.html">Prerequisites</a></li><li class="navListItem"><a class="navItem" href="/docs/next/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/next/configurepools.html">Configure StoragePools</a></li><li class="navListItem"><a class="navItem" href="/docs/next/configuresc.html">Configuring StorageClasses</a></li><li class="navListItem"><a class="navItem" href="/docs/next/provisionvols.html">Provisioning Volumes</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/next/operations.html">Day 2 Operations</a></li><li class="navListItem"><a class="navItem" href="/docs/next/jivaguide.html">Jiva user guide</a></li><li class="navListItem"><a class="navItem" href="/docs/next/mayactl.html">Mayactl</a></li><li class="navListItem"><a class="navItem" href="/docs/next/backup.html">Backup and Restore</a></li><li class="navListItem"><a class="navItem" href="/docs/next/upgrade.html">Upgrade</a></li><li class="navListItem"><a class="navItem" href="/docs/next/uninstall.html">Uninstall</a></li></ul></div></div><div class="navGroup navGroupActive"><h3 id="Stateful Applications" class="languages-menu">Stateful Applications</h3><div class="hide" id="Stateful Applications dropdown-content-div"><ul id="languages-dropdown-items"><li class="navListItem"><a class="navItem" href="/docs/next/mysql.html">RDS like MySQL</a></li><li class="navListItem"><a class="navItem" href="/docs/next/prometheus.html">Prometheus</a></li><li class="navListItem"><a class="navItem" href="/docs/next/minio.html">Minio</a></li><li class="navListItem"><a class="navItem" href="/docs/next/gitlab.html">GitLab</a></li><li class="navListItem"><a class="navItem" href="/docs/next/percona.html">Percona</a></li><li class="navListItem"><a class="navItem" href="/docs/next/elasticsearch.html">ElasticSearch</a></li><li class="navListItem"><a class="navItem" href="/docs/next/cassandra.html">Cassandra</a></li><li class="navListItem"><a class="navItem" href="/docs/next/nuodb.html">NuoDB</a></li><li class="navListItem"><a class="navItem" href="/docs/next/postgres.html">PostgreSQL</a></li><li class="navListItem"><a class="navItem" href="/docs/next/redis.html">Redis</a></li><li class="navListItem"><a class="navItem" href="/docs/next/mongo.html">MongoDB</a></li><li class="navListItem"><a class="navItem" href="/docs/next/rwm.html">Read-Write-Many (RWM)</a></li></ul></div></div><div class="navGroup navGroupActive"><h3 id="Advanced Topics" class="languages-menu">Advanced Topics</h3><div class="hide" id="Advanced Topics dropdown-content-div"><ul id="languages-dropdown-items"><li class="navListItem"><a class="navItem" href="/docs/next/performance.html">Performance testing</a></li><li class="navListItem"><a class="navItem" href="/docs/next/faq.html">FAQs</a></li><li class="navListItem"><a class="navItem" href="/docs/next/k8supgrades.html">Kubernetes upgrades</a></li><li class="navListItem"><a class="navItem" href="/docs/next/troubleshooting.html">Troubleshooting</a></li></ul></div></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script><script>
            var navGroupElem = document.getElementsByClassName("hide");
            for(var k=0; k<navGroupElem.length; k++){
              if (navGroupElem[k].innerHTML.indexOf("navItem navItemActive") != -1) {
                document.getElementById(navGroupElem[k].id).className = "visible";
              }
            }
            var elem = document.getElementsByClassName("languages-menu");
            for (var i=0; i < elem.length; i++){
              document.getElementById(String(elem[i].id)).addEventListener("click", function() {
                sessionStorage.setItem("name", document.getElementById(this.id+" dropdown-content-div").className);
                sessionStorage.setItem("Id", document.getElementById(this.id).id);
                if ( document.getElementById(this.id+" dropdown-content-div").className == "hide") {
                  document.getElementById(this.id+" dropdown-content-div").className = "visible";
                }
                else {
                  document.getElementById(this.id+" dropdown-content-div").className = "hide";
                }
            })};</script><script>
          var SelectedItemClassName = sessionStorage.getItem("name");
          var SelectedItemId = sessionStorage.getItem("Id");
          if (SelectedItemClassName == "hide"){
            document.getElementById( SelectedItemId +" dropdown-content-div").className = "visible";
          }
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/openebs/openebs-docs/edit/staging/docs/operations.md" target="_blank" rel="noreferrer noopener">Edit</a><a class="edit-page-link button" href="https://github.com/openebs/openebs/issues/new/" target="_blank" rel="noreferrer noopener">Create An Issue</a><h1>Day2 operations in OpenEBS</h1></header><article><div><span><hr>
<p>Day2 operations on OpenEBS are broadly categorised as  :</p>
<ul>
<li><a href="/docs/next/operations.html#openebs-snapshots-and-clones">Taking Snapshots / Clones</a></li>
<li><a href="/docs/next/backup.html">Backup and Restore</a></li>
<li><a href="#expanding-the-size-of-a-volume">Volume Size Increase</a></li>
<li><a href="#expanding-the-size-of-a-pool-instance">Add disks to existing pool instance</a></li>
<li><a href="#expanding-the-pool-to-more-nodes">Adding new pool instances to the current pool</a></li>
<li><a href="/docs/next/configuresc.html#creating-a-new-storageclass">Creating new storage classes</a></li>
<li><a href="/docs/next/upgrade.html">Upgrading OpenEBS</a></li>
<li><a href="/docs/next/k8supgrades.html">Upgrading Stateful applications or Kubernetes</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="openebs-snapshots-and-clones"></a><a href="#openebs-snapshots-and-clones" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OpenEBS Snapshots and Clones</h2>
<p>An OpenEBS snapshot is a set of reference markers for data at a particular point in time. A snapshot acts as a detailed table of contents,  with accessible copies of data that user can roll back to.  Snapshots in OpenEBS are instantaneous and are managed through <code>kubectl</code>.</p>
<p>During installation of OpenEBS, a snapshot-controller and a snapshot-provisioner are setup which assist in taking the snapshots. During the snapshot creation, snapshot-controller creates  <code>VolumeSnapshot</code> and <code>VolumeSnapshotData</code> custom resources. A snapshot-provisioner is used to restore a snapshot as a new Persistent Volume(PV) via dynamic provisioning.</p>
<p>For managing snapshots with Jiva, refer to  <a href="/docs/next/jivaguide.html">Jiva user guide</a>.</p>
<p><br></p>
<h3><a class="anchor" aria-hidden="true" id="creating-a-cstor-snapshot"></a><a href="#creating-a-cstor-snapshot" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating a cStor Snapshot</h3>
<p><strong>Pre-requisites:</strong> A sample YAML specification and the pvc name</p>
<ul>
<li><p>Copy the following YAML specification into a file called <em>snapshot.yaml</em> or download it from  <a href="https://raw.githubusercontent.com/openebs/openebs/master/k8s/ci/maya/snapshot/cstor/snapshot.yaml" target="_blank">here</a></p>
<pre><code class="hljs">apiVersion: volumesnapshot.external-storage.k8s.io/v1
kind: VolumeSnapshot
metadata:
  name: snapshot-cstor-volume
  namespace:<span class="hljs-built_in"> default
</span>spec:
  persistentVolumeClaimName: cstor-vol1-claim
</code></pre></li>
<li><p>Edit the YAML file to update  <code>name</code> of Snapshot  and  <code>persistentVolumeClaimName</code> of the PVC  which you are going to take the snapshot.</p></li>
<li><p>Run the following command to create snapshot.</p>
<pre><code class="hljs">kubectl apply -f <span class="hljs-keyword">snapshot</span>.yaml -n &lt;<span class="hljs-keyword">namespace</span>&gt;
</code></pre>
<p>This command creates a snapshot of the cStor volume and two new CRDs. To list the snapshots, use the following command</p>
<pre><code class="hljs">kubectl <span class="hljs-builtin-name">get</span> volumesnapshot
kubectl <span class="hljs-builtin-name">get</span> volumesnapshotdata
</code></pre>
<p><strong>Note</strong>: All cStor snapshots are created in the <code>default</code> namespace. Also make sure that there is no stale entries of snapshot and snapshot data.</p></li>
</ul>
<p><br></p>
<h3><a class="anchor" aria-hidden="true" id="cloning-a-cstor-snapshot"></a><a href="#cloning-a-cstor-snapshot" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cloning  a cStor Snapshot</h3>
<p>Once the snapshot is created, restoration from a snapshot or cloning the snapshot is done through a two step process. First create a PVC that refers to the snapshot and then use the PVC to create a new PV. This PVC should refer to a storage class called <code>openebs-snapshot-promoter</code>.</p>
<ul>
<li><p>Copy the following YAML specification into a file called <em>snapshot_claim.yaml</em> or download it from <a href="https://raw.githubusercontent.com/openebs/openebs/master/k8s/ci/maya/snapshot/cstor/snapshot_claim.yaml" target="_blank">here</a>.</p>
<pre><code class="hljs"><span class="hljs-attribute">apiVersion</span>: v1
<span class="hljs-attribute">kind</span>: PersistentVolumeClaim
<span class="hljs-attribute">metadata</span>:
  <span class="hljs-attribute">name</span>: vol-claim-cstor-snapshot
  <span class="hljs-attribute">namespace</span>: default
  <span class="hljs-attribute">annotations</span>:
    snapshot.alpha.kubernetes.io/<span class="hljs-attribute">snapshot</span>: snapshot-cstor-volume
<span class="hljs-attribute">spec</span>:
  <span class="hljs-attribute">storageClassName</span>: openebs-snapshot-promoter
  <span class="hljs-attribute">accessModes</span>: [ <span class="hljs-string">"ReadWriteOnce"</span> ]
  <span class="hljs-attribute">resources</span>:
    <span class="hljs-attribute">requests</span>:
      <span class="hljs-attribute">storage</span>: <span class="hljs-number">4</span>G
</code></pre></li>
</ul>
<ul>
<li><p>Edit the YAML file to update</p>
<ul>
<li><code>name</code> :- Name of the clone PVC</li>
<li>The annotation <code>snapshot.alpha.kubernetes.io/snapshot</code> :- Name of the snapshot</li>
<li>The size of the volume being cloned or restored.</li>
</ul>
<p><strong>Note</strong>: Size and namespace should be same as the original volume from which the snapshot was created.</p></li>
<li><p>Run the following command to create a cloned PVC.</p>
<pre><code class="hljs">kubectl apply -f snapshot_claim<span class="hljs-selector-class">.yaml</span> -n &lt;namespace&gt;
</code></pre></li>
<li><p>Get the details of newly created PVC for the snapshot.</p>
<pre><code class="hljs">kubectl <span class="hljs-keyword">get</span> pvc -n &lt;<span class="hljs-keyword">namespace</span>&gt;
</code></pre></li>
<li><p>Mount the above PVC in an application YAML to browse the data from the clone.</p></li>
</ul>
<p><br></p>
<h3><a class="anchor" aria-hidden="true" id="deleting-a-cstor-snapshot"></a><a href="#deleting-a-cstor-snapshot" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deleting a cStor Snapshot</h3>
<p>Delete the snapshot using the kubectl command and the same YAML specification that was to create the snapshot</p>
<pre><code class="hljs">kubectl <span class="hljs-keyword">delete</span> -f <span class="hljs-keyword">snapshot</span>.yaml -n &lt;<span class="hljs-keyword">namespace</span>&gt;
</code></pre>
<p>This will not affect any <code>PersistentVolumeClaims</code> or <code>PersistentVolumes</code> that were already provisioned using the snapshot. On the other hand, deleting any <code>PersistentVolumeClaims</code> or <code>PersistentVolumes</code> that were provisioned using the snapshot will not delete the snapshot from the OpenEBS backend.</p>
<p><br></p>
<hr>
<br>
<h2><a class="anchor" aria-hidden="true" id="expanding-the-size-of-a-pool-instance"></a><a href="#expanding-the-size-of-a-pool-instance" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expanding the size of a pool instance</h2>
<p>A pool instance is local to a node. A pool instance can be started with as small as one disk (in <code>striped</code> mode) or two disks (in <code>mirrored</code>) mode. cStor pool instances support thin provisioning of data, which means that provisioning of any volume size will be successful from a given cstorPool config.</p>
<p>However, as the actual used capacity of the pool is utilized, more disks need to be added. In 0.8.0, the feature to add more disks to pool instance is not supported. This feature is under active development. See <a href="/docs/next/cstor.html#cstor-roadmap">Roadmap</a> for more details.</p>
<p><br></p>
<hr>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="expanding-the-pool-to-more-nodes"></a><a href="#expanding-the-pool-to-more-nodes" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expanding the pool to more nodes</h2>
<p>cStorPools can be horizontally scaled when needed typically when a new Kubernetes node is added or when the existing cStorPool instances become full with cStorVolumes. This feature is added in 0.8.1.  The configuration changes are different based on how  the cStorPool was  initially created - either by  <em>specifying diskList</em> or by <em>without specifying diskList</em> in the pool configuration YAML or spc-config.yaml.</p>
<p>The steps for expanding the pool to new nodes is given below. Select the appropriate approach that you have followed during the initial cStorPool creation.</p>
<p><h3><a class="anchor" aria-hidden="true" id="with-disklist"></a>With specifiying diskList</h3></p>
<p>If you are following this approach, you should have created cStor Pool initially using the steps provided <a href="/docs/next/configurepools.html#manual-mode">here</a>. For expanding pool onto a new OpenEBS node, you have to edit corresponding pool configuration(SPC) YAML with the required disks names under the <code>diskList</code> and update the <code>maxPools</code> count .</p>
<p><strong>Step 1:</strong> Edit the existing pool configuration spec that you originally used and apply it (OR) directly edit the in-use spec file  using <code>kubectl edit spc &lt;SPC Name&gt;</code>.</p>
<p><strong>Step 2:</strong> Add the new disks names from the new Nodes under the <code>diskList</code> . You can use <code>kubectl get disks</code> to obtains the disk CRs.</p>
<p><strong>Step 3:</strong> Update the <code>maxPools</code> count to the new value. If existing <code>maxPools</code> count is 3 and one new node is added, then <code>maxPools</code> will be 4.</p>
<p><strong>Step 4:</strong>  Apply or save the configuration file and a new cStorPool instance will be created on the expected node.</p>
<p><strong>Step 5:</strong> Verify the new pool creation by checking</p>
<ul>
<li>If a new cStor Pool POD is created (<code>kubectl get pods -n openebs | grep &lt;pool name&gt;</code>)</li>
<li>If a new cStorPool CR is created (<code>kubectl get csp</code>)</li>
</ul>
<p><h3><a class="anchor" aria-hidden="true" id="without-disklist"></a>Without specifiying diskList</h3></p>
<p>If you are following  this approach, you should have created cStor Pool initially using the steps provided <a href="/docs/next/configurepools.html#auto-mode">here</a>. For expanding pool on new OpenEBS node, you have to edit corresponding pool configuration(SPC) YAML with updating the <code>maxPools</code> count.</p>
<p><strong>Step 1:</strong> Edit the existing pool configuration spec that you originally used and apply it (OR) directly edit the in-use spec file  using <code>kubectl edit spc &lt;SPC Name&gt;</code>.</p>
<p><strong>Step 2:</strong> Update the <code>maxPools</code> count to the new value. If existing <code>maxPools</code> count is 3 and one new node is added, then <code>maxPools</code> will be 4.</p>
<p><strong>Step 3:</strong> Apply or save the configuration file and a new cStorPool instance will be created.</p>
<p><strong>Step 4:</strong> Verify the new pool creation by checking</p>
<ul>
<li>If a new cStor Pool POD is created (<code>kubectl get pods -n openebs | grep &lt;pool name&gt;</code>)</li>
<li>If a new cStorPool CR is created (<code>kubectl get csp</code>)</li>
</ul>
<p><br></p>
<hr>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="expanding-the-size-of-a-volume"></a><a href="#expanding-the-size-of-a-volume" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expanding the size of a volume</h2>
<p>OpenEBS control plane does not support increasing the size of volume seamlessly. Increasing the size of a provisioned volume requires support from Kubernetes' kubelet as the existing connection has to be remounted to reflect the new volume size. This can also be tackled with the new CSI plugin where the responsibility of the mount, unmount and remount actions will be held with the vendor CSI plugin rather than the kubelet itself.</p>
<p>OpenEBS team is working on both the CSI plugin as well as the feature to resize the provisioned volume when the PVC is patched for new volume size. See <a href="/docs/next/cstor.html#cstor-roadmap">Roadmap</a> for more details.</p>
<p><br></p>
<hr>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="see-also"></a><a href="#see-also" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>See Also:</h2>
<p><br></p>
<h3><a class="anchor" aria-hidden="true" id="cstor-roadmap-docs-next-cstorhtml-cstor-roadmap"></a><a href="#cstor-roadmap-docs-next-cstorhtml-cstor-roadmap" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/docs/next/cstor.html#cstor-roadmap">cStor Roadmap</a></h3>
<h3><a class="anchor" aria-hidden="true" id="understand-cstorpools-docs-next-cstorhtml-cstor-pools"></a><a href="#understand-cstorpools-docs-next-cstorhtml-cstor-pools" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/docs/next/cstor.html#cstor-pools">Understand cStorPools</a></h3>
<h3><a class="anchor" aria-hidden="true" id="connecting-to-mayaonline-docs-next-mayaonlinehtml"></a><a href="#connecting-to-mayaonline-docs-next-mayaonlinehtml" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/docs/next/mayaonline.html">Connecting to MayaOnline</a></h3>
<p><br></p>
<hr>
<p><br></p>
<!-- Hotjar Tracking Code for https://docs.openebs.io -->
<script>
   (function(h,o,t,j,a,r){
       h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
       h._hjSettings={hjid:785693,hjsv:6};
       a=o.getElementsByTagName('head')[0];
       r=o.createElement('script');r.async=1;
       r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
       a.appendChild(r);
   })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92076314-12"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
<p>gtag('config', 'UA-92076314-12');</p>
</script>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="provisionvols.html">← Provisioning OpenEBS Storage Volumes</a><a class="docs-next button" href="jivaguide.html">Jiva user guide →</a></div></div></div><nav class="onPageNav"><div id="global-on-page-heading"><h4 style="font-weight:400;">On this page:</h4><ul class="toc-headings"><li><a href="#openebs-snapshots-and-clones">OpenEBS Snapshots and Clones</a><ul class="toc-headings"><li><a href="#creating-a-cstor-snapshot">Creating a cStor Snapshot</a></li><li><a href="#cloning-a-cstor-snapshot">Cloning a cStor Snapshot</a></li><li><a href="#deleting-a-cstor-snapshot">Deleting a cStor Snapshot</a></li></ul></li><li><a href="#expanding-the-size-of-a-pool-instance">Expanding the size of a pool instance</a></li><li><a href="#expanding-the-pool-to-more-nodes">Expanding the pool to more nodes</a></li><li><a href="#expanding-the-size-of-a-volume">Expanding the size of a volume</a></li><li><a href="#see-also">See Also:</a><ul class="toc-headings"><li><a href="#cstor-roadmap-docs-next-cstorhtml-cstor-roadmap">cStor Roadmap</a></li><li><a href="#understand-cstorpools-docs-next-cstorhtml-cstor-pools">Understand cStorPools</a></li><li><a href="#connecting-to-mayaonline-docs-next-mayaonlinehtml">Connecting to MayaOnline</a></li></ul></li></ul></div></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><br/><div><a href="https://openebs.io" target="_blank"><img src="/docs/assets/openebs-logo.svg" alt="" width="130" height="110"/></a></div><div><a href="https://slack.openebs.io">Get in touch with OpenEBS community via Slack</a></div></div><div><br/><div><a href="https://mayadata.io" target="_blank"><img src="https://openebs.io/assets/images/mayadata.svg" alt="mayadata.io" width="130" height="110"/></a></div><div><a href="https://app.mayaonline.io">Get OpenEBS support through MayaOnline</a></div></div></section><section class="copyright"></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                
                apiKey: 'dc657dfe30f42f228671f557f49ced7a',
                indexName: 'openebs',
                inputSelector: '#search_input_react'
              });
            </script><script>(function(){ window.ldfdr = window.ldfdr || {}; (function(d, s, ss, fs){ fs = d.getElementsByTagName(s)[0]; function ce(src){ var cs = d.createElement(s); cs.async=1; cs.src = src; setTimeout(function(){fs.parentNode.insertBefore(cs,fs)}, 1); } ce(ss); })(document, 'script', 'https://lftracker.leadfeeder.com/lftracker_v1_bMwm7E2pzw4gOZyA.js'); })();</script></body></html>